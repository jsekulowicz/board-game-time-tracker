const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-CqCEyHOW.js","assets/index-BWwxUqkb.js","assets/index-Dh5s53SA.css","assets/GameSessionListView-CIyyRRKV.js","assets/UiCard.vue_vue_type_script_setup_true_lang-CKccHbgD.js","assets/UiSkeleton.vue_vue_type_script_setup_true_lang-Bc6h1ijs.js","assets/useGameSessionListStore-Bcx0Y66r.js","assets/GameSessionAddView-D0RnqHsl.js","assets/FocusScope-C_Uh5S6w.js","assets/GameSessionAddView-zFRQNfHd.css","assets/GameSessionView-CgyE9bVE.js","assets/GameSessionView-DDev3pYx.css"])))=>i.map(i=>d[i]);
import{a as r,d as v,r as c,c as m,b as i,_ as d,e as f,f as S}from"./index-BWwxUqkb.js";const o={Home:"home",GameSessionList:"game-session-list",GameSession:"game-session",GameSessionAdd:"game-session-add"},A=e=>(e?.client??r).get({url:"/game-sessions",...e}),B=e=>(e.client??r).post({url:"/game-sessions",...e,headers:{"Content-Type":"application/json",...e.headers}}),b=e=>(e.client??r).get({url:"/game-sessions/{id}",...e}),l=e=>(e.client??r).patch({url:"/game-sessions/{id}",...e,headers:{"Content-Type":"application/json",...e.headers}}),G=e=>(e.client??r).patch({url:"/game-sessions/{sessionUuid}/moves/switch",...e,headers:{"Content-Type":"application/json",...e.headers}}),T=v("gameSession",()=>{const e=c(),t=c(!0),n=m(()=>e.value?.players?.every(a=>a.status!=="ready_to_move")),u=m(()=>e.value?.status&&["ready_to_track","in_progress"].includes(e.value.status));async function g(a){t.value=!0;const s=await b({path:{id:a}});e.value=s.data,t.value=!1}async function h(a){if(!e.value)return;const s=await l({path:{id:e.value.id},body:{timeDisplayMode:a}});if(!s.error)switch(e.value=s.data,e.value?.timeDisplayMode){case"visible":{i("Tracked time visible",{description:"As long as the game has not ended, you can hide it anytime you want."});break}case"hidden":{i("Tracked time hidden",{description:"As long as the game has not ended, you can show it anytime you want."});break}}}async function y(a){if(!e.value)return;const s=await l({path:{id:e.value.id},body:{status:a}});if(!s.error)switch(e.value=s.data,e.value?.status){case"ended":{i("Game session ended",{description:"Tracking stopped. You will not be able to resume this game session."});break}case"in_progress":{i("Game resumed",{description:"Tracking resumed. Use Pause button to pause again."});break}case"paused":{i("Game paused",{description:"Tracking stopped. Use Resume button to resume tracking."});break}}}async function _(a){if(!e.value)return;const s=await G({path:{sessionUuid:e.value.id},body:{playerUuid:a}});s.data&&(e.value=s.data)}return{getGameSessionById:g,setGameSessionTimeDisplayMode:h,setGameSessionStatus:y,switchPlayerMove:_,hasLastMoveInTurn:n,isTrackingPossible:u,gameSession:e,loadingGameSession:t}}),p=[{path:"/",name:o.Home,redirect:{name:o.GameSessionList}},{path:"/game-sessions",component:()=>d(()=>import("./App-CqCEyHOW.js"),__vite__mapDeps([0,1,2])),meta:{title:"Game sessions",useBreadcrumbs:!0},children:[{path:"",name:o.GameSessionList,component:()=>d(()=>import("./GameSessionListView-CIyyRRKV.js"),__vite__mapDeps([3,4,1,2,5,6])),meta:{title:"Game sessions",useBreadcrumbs:!1}},{path:"add",name:o.GameSessionAdd,component:()=>d(()=>import("./GameSessionAddView-D0RnqHsl.js"),__vite__mapDeps([7,4,1,2,8,6,9])),meta:{title:"Add game session",useBreadcrumbs:!0}},{path:":id",name:o.GameSession,component:()=>d(()=>import("./GameSessionView-CgyE9bVE.js"),__vite__mapDeps([10,1,2,4,8,5,11])),meta:{title:"Game session",useBreadcrumbs:!0,getDynamicTitle:()=>{const e=T();return e.loadingGameSession?"Loading game session...":e.gameSession?.name??"Not found"}}}]}];function k(e=p,t){for(const n of e){if(n.name===t)return n;if(n.children){const u=k(n.children,t);if(u)return u}}}const w=f({history:S("/board-game-time-tracker/"),routes:p}),I=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"}));export{o as R,B as c,k as f,I as i,A as l,p as r,T as u};
